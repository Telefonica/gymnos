{
    "problem": {
        "id": "kaggleCompetitionDogsVsCats2013",
        "machine_learning_field": "deep_learning",
        "source": "image"
    },
    "model": {
        "name": "CustomStack",
        "id": "custom-stack",
        "options": {
            "compilation": {
                "optimizer": "rmsprop",
                "loss": "binary_crossentropy",
                "metrics": ["accuracy"]
            },
            "custom":{
                "framework": "keras",
                "stack": {
                    "layers": [
                        { "type":"convolutional2D", "settings": { "filter": 32, "kernel_size":[3, 3], "activation": "relu", "input_shape": [ 150, 150, 3 ] } },
                        { "type":"maxpooling2D", "settings": { "pool_size":[2, 2] } },
                        { "type":"convolutional2D", "settings": { "filter": 64, "kernel_size":[3, 3], "activation": "relu" } },
                        { "type":"maxpooling2D", "settings": { "pool_size":[2, 2] } },
                        { "type":"convolutional2D", "settings": { "filter": 128, "kernel_size":[3, 3], "activation": "relu" } },
                        { "type":"maxpooling2D", "settings": { "pool_size":[2, 2] } },
                        { "type":"convolutional2D", "settings": { "filter": 128, "kernel_size":[3, 3], "activation": "relu" } },
                        { "type":"maxpooling2D", "settings": { "pool_size":[2, 2] } },
                        { "type":"flatten", "settings": { }},
                        { "type":"dense", "settings": { "units": 512, "activation": "relu" } },
                        { "type":"dense", "settings": { "units": 1, "activation": "sigmoid" } }
                    ]
                }
            }
        }
    },
    "dataset": {
        "id": "kaggle-dogs-vs-cats",
        "properties": {
            "service": {
                "type": "competitions",
                "id": "dogs-vs-cats"
            },
            "type": "images",
            "image_width": 150,
            "image_height": 150,
            "image_depth": 3,
            "color_mode": "multi",
            "class_mode": "binary",
            "batch_size": 512,
            "shuffle": true,
            "prediction": [
		{ "result": 0, "class_name": "cat" },
  		{ "result": 1, "class_name": "dog" }
            ]
        } 
    },
    "session": {
        "device":{
            "type": "gpu",
            "options": {
                "allow_memory_growth": true
            }
        }
    },
    "training": {
        "samples": {
            "fit": 100,
            "validation": 70,
            "test": 50
        },
        "callbacks": { 
            "list":[
                {
                    "id": "reduce_learning",
                    "options": {
                        "monitor": "val_loss",
                        "factor": 0.2,
                        "patience": 2,
                        "verbose": 1,
                        "mode": "auto",
                        "epsilon": 0.0001,
                        "cooldown": 2,
                        "min_lr": 0
                    }
                },{
                    "id": "early_stopping",
                    "options": {
                        "monitor": "val_loss",
                        "min_delta": 0,
                        "patience": 7,
                        "verbose": 1,
                        "mode": "auto"
                    }
                },{
                    "id": "model_checkpoint",
                    "options": {
                        "filename": "weights.epoch-{epoch:02d}_val_loss-{val_loss:.2f}.hdf5",
                        "monitor": "val_loss",
                        "verbose": 1,
                        "save_best_only": true,
                        "save_weights_only": false,
                        "mode": "auto",
                        "period": 1
                    }
                },{
                    "id": "tensorboard",
                    "options": { 
                        "histogram_freq":1, 
                        "batch_size":32, 
                        "write_graph": true, 
                        "write_grads": true, 
                        "write_images": true, 
                        "embeddings_freq": 0,
                        "update_freq": "epoch" 
                    }
                }
            ]
        }
    },
    "hyper_params": {
        "batch_size": 512,
        "epochs": 1,
        "learning_strategy": "supervised"
    }, 
    "artifacts": {
        "tensorboard":{
            "graphs": {
                "default": true,
                "session": true
            },
            "summaries":{
                "scalars": true,
                "histograms": true,
                "images": true
            }
        }
    }
}
